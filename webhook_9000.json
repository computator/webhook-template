[
	{
		"id": "commit",
		"execute-command": "sh",
		"command-working-directory": "test",
		"include-command-output-in-response": true,
		"pass-arguments-to-command": [
			{"source": "string", "name": "-c"},
			{"source": "string", "name": "hg pull && hg update default"}
		],
		"trigger-rule": {
			"and": [
				{
					"match": {
						"type": "value",
						"value": "repo:push",
						"parameter": {
							"source": "header",
							"name": "X-Event-Key"
						}
					}
				},
				{
					"match": {
						"type": "value",
						"value": "named_branch",
						"parameter": {
							"source": "payload",
							"name": "push.changes.0.new.type"
						}
					}
				},
				{
					"match": {
						"type": "value",
						"value": "default",
						"parameter": {
							"source": "payload",
							"name": "push.changes.0.new.name"
						}
					}
				}
			]
		},
		"trigger-rule-mismatch-http-response-code": 404
	}
]
